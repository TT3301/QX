#!name=å»å¹¿å‘Šâ€¢ç­¾åˆ°â€¢è§£é”è„šæœ¬ç­‰ğŸˆ´é›†
#!desc=æ¥è‡ªç½‘ä¸Šæœé›†çº¯è‡ªç”¨ï¼
#!icon=https://raw.githubusercontent.com/TT3301/QX/main/icon/pokeball.png
#!homepage=
#!category=ğŸŒŸğŸ†ƒğŸ†ƒæ”¶è—åˆé›†


[Rule]
# == å¾®ä¿¡å°ç¨‹åºâ€¢é€šç”¨è§„åˆ™
DOMAIN,wxsnsdy.wxs.qq.com,REJECT,extended-matching,pre-matching
DOMAIN,wxsmsdy.video.qq.com,REJECT,extended-matching,pre-matching
DOMAIN,wxsnsdythumb.wxs.qq.com,REJECT,extended-matching,pre-matching
# å¾®ä¿¡å°ç¨‹åºâ€¢EMS â–¶ ump.ems.com.cn
URL-REGEX, ^https:\/\/ump\.ems\.com\.cn\/mailAd.*$, REJECT
# == å»å¹¿å‘Šâ€¢ç±³å®¶
DOMAIN, sdkconfig.ad.xiaomi.com, REJECT,pre-matching
# == å»å¼€å±â€¢ä¸­å›½è”é€šapp
DOMAIN-SUFFIX, m1.ad.10010.com, REJECT,pre-matching
# == å»å¹¿å‘Šâ€¢çˆ±å¥‡è‰º
DOMAIN-SUFFIX, cupid.iqiyi.com, REJECT,pre-matching
# == å»å¹¿å‘Šâ€¢ä¼˜é…·
DOMAIN, iyes.youku.com, REJECT,pre-matching
# == å»å¹¿å‘Šâ€¢äº‘é—ªä»˜ â–¶ wallet.95516.com
DOMAIN, ads.95516.com, REJECT, extended-matching,pre-matching
DOMAIN, switch.cup.com.cn, REJECT, extended-matching,pre-matching
DOMAIN, tysdk.95516.com, REJECT, extended-matching,pre-matching
URL-REGEX, ^https:\/\/wallet\.95516\.com(:10533)?\/s\/wl\/icon\/large\/1, REJECT
# == å»å¼€å±â€¢ä¸­ä¿¡é“¶è¡Œ â–¶ imcs.citicbank.com
URL-REGEX, ^https:\/\/imcs\.citicbank\.com\/cloud\/([a-fA-F0-9]{32})\.(jpg|jpeg|png)\?width=[0-9]{4}&height=[0-9]{4}, REJECT
# == å»å¹¿å‘Šâ€¢äº¬ä¸œ â–¶ api.m.jd.com, m.360buyimg.com
URL-REGEX, ^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=(start|queryMaterialAdverts), REJECT
URL-REGEX, ^https:\/\/m\.360buyimg\.com\/mobilecms\/s\d{4}x\d{4}, REJECT
# == å»å¼€å±â€¢å»ºè¡Œç”Ÿæ´» â–¶ yunbusiness.ccb.com, image1.ccb.com
URL-REGEX, ^https?:\/\/yunbusiness\.ccb\.com\/clp_service\/txCtrl\?txcode=A3341A00(6|9), REJECT
URL-REGEX, ^http:\/\/image1\.ccb\.com\/newsinfo\/eBranch\/check\/(nf\/newfin\/activity|po\/poortheme\/activity)\/\w+\.png, REJECT



[URL Rewrite]
# == é‡å®šå‘ HTTP to HTTPS â–¶ www.jd.com
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302


[Header Rewrite]
# == æ›´æ”¹ç™¾åº¦ç½‘ç›˜UA â–¶ *.baidupcs.com
# http-request ^https?:\/\/([^\/]*)\.baidupcs\.com\/.*$ header-replace User-Agent pan.baidu.com


[Body Rewrite]
# http-response-jq ^https:\/\/resource\.moutai519\.com\.cn\/mt-resource\/static-union\/.*\.json$ '.popupList[0] |= (.lifeCycle = "exit" | .delay = 1)'


[Map Local]
# == å»å¹¿å‘Šâ€¢å¿«é€’100 â–¶ p.kuaidi100.com
^https:\/\/p\.kuaidi100\.com\/mobile\/mainapi\.do.*$ data-type=text data="{}" status-code=200
^https:\/\/p\.kuaidi100\.com\/advertisement\/ad\/multi\/terminal.*$ data-type=text data="{}" status-code=200
# å»å¼€å±â€¢ç™¾åº¦åœ°å›¾ â–¶ afd.baidu.com
^https:\/\/afd\.baidu\.com\/afd\/entry\?action=(update|query) data-type=text data="{}" status-code=200
# == ç¦æ­¢â€¢ç™¾åº¦è¾“å…¥æ³•æ”¶é›†ç”¨æˆ·æ•°æ® â–¶ mime.baidu.com
^https?:\/\/mime\.baidu\.com\/sapi\/v1\/(circle\/joinedlist|lccorpus\/usercorpussync|aihelpactivity\/aihelpresource) data-type=text data="{}" status-code=200
^https?:\/\/mime\.baidu\.com\/commer\/pocket_api\/enterprise_list data-type=text data="{}" status-code=200
^https?:\/\/mbd\.baidu\.com\/ccs\/v1\/start\/confsync\?appname=baidu_input data-type=text data="{}" status-code=200
# == å»å¼€å±â€¢ç¼¤çº·ç”Ÿæ´» â–¶ mlife.jf365.boc.cn
^https?:\/\/mlife\.jf365\.boc\.cn\/AppPrj\/layout\.do\?txnId=2MUI009100 data-type=text data="{}"
# == å»å¼€å±â€¢ä¸œæ–¹èˆªç©º â–¶ app.ceair.com
^https?:\/\/app\.ceair\.com\/customize\/security\/update data-type=text data="{}"
^https?:\/\/app\.ceair\.com\/customize\/main\/adScreen data-type=text data="{}"
# == å»å¹¿å‘Šâ€¢ç±³å®¶ â–¶ home.mi.com
^https:\/\/home\.mi\.com\/cgi-op\/api\/v1\/recommendation\/(banner|carousel\/banners|myTab|openingBanner) data-type=text data="{}"
# == ä¸­å›½ç§»åŠ¨ â–¶ client.app.coc.10086.cn
^https:\/\/client\.app\.coc\.10086\.cn\/biz-orange\/DN\/(explorePage\/getAdverList|init\/startInit) data-type=text data="{}"
# == å»å¼€å±â€¢æŒä¸Šç”Ÿæ´» (éœ€å¸è½½é‡è£…) â–¶ mbasecc.bas.cmbchina.com
^https:\/\/mbasecc\.bas\.cmbchina\.com\/Edge\/api\/mlife\.clientface\.clientservice\.api\.advertiseService\/preCacheAdvertiseSec data-type=text data="{}"
# == å»å¼€å±â€¢æµ¦å¤§å–œå¥” â–¶ image.spdbccc.com
^https?:\/\/image\.spdbccc\.com\.cn\/group\d\/M00\/[A-Z0-9]{2}\/[A-Z0-9]{2}\/.+(4038|0571|M511|V-008|g549|b0628) data-type=text data="{}"
# == å»å¹¿å‘Šâ€¢é£çŒª â–¶ acs.m.taobao.com
^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.fliggy\.crm\.screen\.(allresource|predict) data-type=text data="{}"
# == å°ç¨‹åºâ€¢ä¼è¿ˆç‚¹å•ç³»ç»Ÿ â–¶ webapi.qmai.cn
^https:\/\/webapi\.qmai\.cn\/web\/catering\/advertising\/ data-type=text data="{}" status-code=200
# == å°ç¨‹åºâ€¢æ˜Ÿå·´å…‹ â–¶ 3pp.starbucks.com.cn
^https:\/\/3pp\.starbucks\.com\.cn\/wxmem\/popup data-type=text data="{}" status-code=200
^https:\/\/3pp\.starbucks\.com\.cn\/wxmem\/index\/banner data-type=text data="{}" status-code=200
^https:\/\/3pp\.starbucks\.com\.cn\/wxmem\/index\/global data-type=text data="{}" status-code=200
# == å°ç¨‹åºâ€¢ä¸Šæµ·åœ°é“Metroå¤§éƒ½ä¼šä¹˜è½¦ç  â–¶ dock.tenchii.com
^https:\/\/dock\.tenchii\.com\/DockCard\/api\/mini\/card\/list data-type=text data="{}" status-code=200

[Script]
# == è·å–Tokenâ€¢èŒ…å° â–¶ app.moutai519.com.cn
Tokenâ€¢èŒ…å° = type=http-request, pattern=^https:\/\/app\.moutai519\.com\.cn\/xhr\/front\/mall\/message\/unRead\/query, script-path=https://raw.githubusercontent.com/TT3301/QX/main/rewrite/iMT.js, requires-body=0, max-size=0

# == è·å–Tokenâ€¢åä½app â–¶ hweb-personalcenter.huazhu.com
Tokenâ€¢åä½ = type=http-request, pattern=^https?:\/\/hweb-personalcenter\.huazhu\.com\/login\/autoLogin$, script-path=https://raw.githubusercontent.com/wf021325/qx/master/task/hzh.js

# == è·å–Tokenâ€¢è¾¾ä¹ç¾ğŸ• â–¶ game.dominos.com.cn
Tokenâ€¢è¾¾ä¹ç¾ğŸ• = type=http-request, pattern=^https:\/\/game\.dominos\.com\.cn\/.+\/game\/gameDone, script-path=https://gist.githubusercontent.com/Sliverkiss/6b4da0d367d13790a9fd1d928c82bdf8/raw/dlm.js, requires-body=true, timeout=10

# == è·å–Tokenâ€¢é¡ºä¸°å¿«é€’ â–¶ mcs-mimp-web.sf-express.com â–¶ æ‰“å¼€å°ç¨‹åºï¼Œè¿›å…¥æˆ‘çš„é¡µé¢ï¼Œç‚¹å‡»ä¼˜æƒ åˆ¸é¡µé¢è·å–token
Tokenâ€¢é¡ºä¸°å¿«é€’å°ç¨‹åº = type=http-response, pattern=^https:\/\/mcs-mimp-web\.sf-express\.com\/mcs-mimp\/share\/weChat\/shareGiftReceiveRedirect.+, script-path=https://raw.githubusercontent.com/TT3301/QX/main/rewrite/sfsy.js, timeout=10

# == è·å–Cookieâ€¢ä¸­å›½å¹¿ç”µ10099 â–¶ wx.10099.com.cn  â–¶ ç™»å½•å¾®ä¿¡å°ç¨‹åºè‡ªåŠ¨è·å–
Cookieâ€¢ä¸­å›½å¹¿ç”µ = type=http-request, pattern=https://wx.10099.com.cn/contact-web/api/busi/qryUserInfo, script-path=https://raw.githubusercontent.com/TT3301/QX/main/rewrite/10099Get_Cookie.js, requires-body=1, max-size=0

# == è·å–Cookieâ€¢å»ºç”Ÿç”Ÿæ´» â–¶ yunbusiness.ccb.com
Cookieâ€¢å»ºè¡Œç”Ÿæ´» = type=http-request, pattern=^https:\/\/yunbusiness\.ccb\.com\/(clp_coupon|clp_service)\/txCtrl\?txcode=(A3341A038|autoLogin), script-path=https://raw.githubusercontent.com/TT3301/QX/main/rewrite/jhsh_checkIn.js, requires-body=1, max-size=0

# == è·å–Cookieâ€¢é«˜å¾·æ‰“è½¦ â–¶ *.amap.com
Cookieâ€¢é«˜å¾·æ‰“è½¦ = type=http-response, pattern=^https?:\/\/(m5(|-zb)|dache)\.amap\.com\/(ws\/yuece\/(act|openapi\/activity\/current)\/query|common\/(alipaymini|wxmini)\?_ENCRYPT=), script-path=https://raw.githubusercontent.com/wf021325/qx/master/task/ampDache.js, requires-body=true, max-size=-1, timeout=60

# == è§£é”â€¢Xmindæ—§ç‰ˆ â–¶ *xmind.*
è§£é”â€¢Xmindæ—§ç‰ˆ = type=http-response, pattern=^https?:\/\/(?:www\.)?xmind\..*\/.+\/(devices|token\/.+), script-path=https://raw.githubusercontent.com/TT3301/QX/main/rewrite/Xmind.js, requires-body=true, max-size=-1, timeout=60

# == è·å–Cookieâ€¢å¥¶èŒ¶å¤šåˆä¸€ â–¶ webapi2.qmai.cn, webapi.qmai.cn, qmwebapi.qmai.cn
Cookieâ€¢å¥¶èŒ¶å¤šåˆä¸€ = type=http-response, pattern=^https:\/\/(webapi|webapi2)\.qmai\.cn\/web\/seller\/(oauth\/flash-sale-login|account\/login-minp), script-path=https://gist.githubusercontent.com/Sliverkiss/8b4f5487e0f28786c7dec9c7484dcd5e/raw/teaMilk.js, requires-body=true, timeout=60
Cookieâ€¢å¥¶èŒ¶å¤šåˆä¸€ = type=http-request, pattern=^https:\/\/(webapi|webapi2|qmwebapi)\.qmai\.cn\/web\/(catering\/integral|cmk-center)\/sign\/(signIn|takePartInSign), script-path=https://gist.githubusercontent.com/Sliverkiss/8b4f5487e0f28786c7dec9c7484dcd5e/raw/teaMilk.js, requires-body=true, timeout=60

[MITM]
hostname = %APPEND% p.kuaidi100.com, mime.baidu.com, client.app.coc.10086.cn, mbasecc.bas.cmbchina.com, image.spdbccc.com, acs.m.taobao.com, home.mi.com, app.ceair.com, mlife.jf365.boc.cn, app.moutai519.com.cn, hweb-personalcenter.huazhu.com, game.dominos.com.cn, mcs-mimp-web.sf-express.com, wx.10099.com.cn, *.amap.com, *xmind.*, webapi2.qmai.cn, webapi.qmai.cn, qmwebapi.qmai.cn, yunbusiness.ccb.com, image1.ccb.com, gab.122.gov.cn, imcs.citicbank.com, api.m.jd.com, m.360buyimg.com, wallet.95516.com, webapi.qmai.cn, 3pp.starbucks.com.cn, dock.tenchii.com, afd.baidu.com, ump.ems.com.cn